{"version":3,"sources":["webpack:///./src/views/contracts-view.vue?0a08","webpack:///./src/components/Contracts/Card.vue?330a","webpack:///./src/components/Contracts/Card.vue?b895","webpack:///./src/components/Contracts/Card.vue?689c","webpack:///./src/components/Contracts/Card.vue","webpack:///./src/components/Contracts/AttatchmentViewer.vue?f35d","webpack:///./src/components/Contracts/AttatchmentViewer.vue?aa0b","webpack:///./src/components/Contracts/AttatchmentViewer.vue?4c81","webpack:///./src/components/Contracts/AttatchmentViewer.vue","webpack:///./src/components/Receipts/Table.vue?04ba","webpack:///./src/components/Receipts/TableHead.vue?0ef5","webpack:///./src/components/Receipts/TableHead.vue?8cc0","webpack:///./src/components/Receipts/TableHead.vue?cb97","webpack:///./src/components/Receipts/TableHead.vue","webpack:///./src/components/Receipts/TableBody.vue?c1a1","webpack:///./src/model/Receipt.js","webpack:///./src/components/Receipts/TableBody.vue?67a3","webpack:///./src/components/Receipts/TableBody.vue?f24d","webpack:///./src/components/Receipts/TableBody.vue","webpack:///./src/components/Receipts/Table.vue?8280","webpack:///./src/components/Receipts/Table.vue?5a68","webpack:///./src/components/Receipts/Table.vue?4d87","webpack:///./src/components/Receipts/ReceiptsForm.vue?5293","webpack:///./src/components/Receipts/ReceiptsFormGroup.vue?7609","webpack:///src/components/Receipts/ReceiptsFormGroup.vue","webpack:///./src/components/Receipts/ReceiptsFormGroup.vue?0c19","webpack:///./src/components/Receipts/ReceiptsFormGroup.vue","webpack:///./src/components/Receipts/ReceiptsFormImage.vue?4a8f","webpack:///./src/components/Receipts/ReceiptsFormImage.vue?febf","webpack:///./src/components/Receipts/ReceiptsFormImage.vue?8243","webpack:///./src/components/Receipts/ReceiptsFormImage.vue","webpack:///src/components/Receipts/ReceiptsForm.vue","webpack:///./src/components/Receipts/ReceiptsForm.vue?4439","webpack:///./src/components/Receipts/ReceiptsForm.vue","webpack:///src/views/contracts-view.vue","webpack:///./src/views/contracts-view.vue?8073","webpack:///./src/views/contracts-view.vue","webpack:///./src/components/Contracts/Card.vue?dce5","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/Receipts/TableBody.vue?7ead","webpack:///./src/components/Receipts/Table.vue?e861"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","addReceiptVisible","record","_e","records","on","closePopup","scopedSlots","_u","key","fn","deleteItem","_v","proxy","attrs","selectedReceipt","closeDisplay","receiptFile","staticRenderFns","_l","title","ar","_s","Attributes","titleAr","render","addReceipt","extend","inject","computed","id","$route","params","Contract","methods","setReceiptAddMode","component","hasFile","file","renderFileB","class","disabled","isGettingFile","downloadFile","downloadFileButton","watch","unrenderFile","ContractAttachments","length","data","renderFile","URL","createObjectURL","revokeObjectURL","$store","commit","alert","dispatch","beforeMount","titles","i","_t","props","type","Array","default","idx","getFormattedRecord","item","index","receiptHasAttatchment","$event","openDisplay","permissions","handleDelete","Receipt","percentage","titleEn","dbFieldName","val","nF","createdAt","moment","format","updatedAt","enterDate","payment","monthlySerial","receipt","ReceiptAttachments","headers","map","want","selectId","openPopup","handleView","$router","push","components","TableHead","TableBody","isCreatingData","submitForm","submitButtonText","emitFormInput","domProps","contractNumber","_m","directives","name","rawName","value","expression","target","composing","serial","date","undefined","fileName","fileContent","selectedFile","captureInput","formData","handleSelectFile","displayFileName","event","files","documentFile","hasError","provide","AppImage","AppForm","display","popupIsOn","receiptDeleteId","selectedID","initPage","cleanURL","subFile","downloadReceiptFile","fileId","resetData","created","ReceiptModal","ContractCard","FileAttatchment","ReceiptTable","ReceiptAddForm","$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","proto","forced","callbackfn","arguments"],"mappings":"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","file":"js/chunk-0e89d438.9e3cb6e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card p-4 shadow m-4\"},[_c('ContractCard')],1),(_vm.addReceiptVisible && _vm.record)?_c('transition',[_c('div',{staticClass:\"card p-4 shadow m-4\"},[_c('ReceiptAddForm')],1)]):_vm._e(),_c('div',{staticClass:\"card p-4 shadow m-4\"},[_c('FileAttatchment')],1),(_vm.records && _vm.record)?_c('div',{staticClass:\"card p-4 shadow m-4\"},[_c('receipt-table')],1):_vm._e(),_c('transition',[(_vm.popupIsOn)?_c('ReceiptModal',{on:{\"request-close\":_vm.closePopup},scopedSlots:_vm._u([{key:\"body\",fn:function(){return [_c('div',{staticClass:\"d-flex justify-content-evenly mt-5\"},[_c('button',{staticClass:\"btn btn-lg btn-danger my-5\",on:{\"click\":_vm.deleteItem}},[_vm._v(\"نعم\")]),_c('button',{staticClass:\"btn btn-lg btn-outline-secondary my-5\",on:{\"click\":_vm.closePopup}},[_vm._v(\"لا\")])])]},proxy:true}],null,false,238214803)}):_vm._e()],1),_c('transition',[(_vm.display)?_c('receipt-modal',{attrs:{\"msg\":_vm.selectedReceipt},on:{\"request-close\":_vm.closeDisplay},scopedSlots:_vm._u([{key:\"body\",fn:function(){return [(_vm.isGettingFile)?_c('div',[_c('h2',[_vm._v(\"Loading File...\")])]):(_vm.receiptFile)?_c('iframe',{staticClass:\"subframe\",attrs:{\"data-class\":\"subframe\",\"data-slug-hash\":\"GCyhb\",\"src\":_vm.receiptFile}}):_c('div',[_c('h2',[_vm._v(\"Error\")])])]},proxy:true}],null,false,4150055201)}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.record)?_c('div',{staticClass:\"rtl\"},[_vm._l((_vm.headersComplete),function(title){return _c('div',{key:title.ar,staticClass:\"cell-container\"},[_c('h5',{staticClass:\"cell-title text-right\"},[_vm._v(\" \"+_vm._s(_vm.Attributes[title].titleAr)+\" \")]),_c('h5',{staticClass:\"cell-value text-center\"},[_vm._v(\" \"+_vm._s(_vm.Attributes[title].render(_vm.record[title]))+\" \")]),_c('div',{staticClass:\"cell-break\"})])}),_c('div',[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.addReceipt}},[_vm._v(\"إضافة فاتورة\")])])],2):(_vm.isGettingData)?_c('div',[_c('h2',[_vm._v(\"Loading...\")])]):_c('div',[_c('h2',[_vm._v(\"Not Found\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport { mapGetters } from 'vuex'\r\nimport ContractModal from '../../model/Contract'\r\n\r\nexport default Vue.extend({\r\n  inject: ['setReceiptAddMode'],\r\n  computed: {\r\n    id() {\r\n      return this.$route.params.id\r\n    },\r\n    Attributes() {\r\n      return ContractModal.Attributes\r\n    },\r\n    ...mapGetters('contracts', ['isGettingData', 'records', 'record', 'headersComplete']),\r\n  },\r\n  methods: {\r\n    addReceipt() {\r\n      this.setReceiptAddMode()\r\n    },\r\n  },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=0fb13b32&scoped=true&\"\nimport script from \"./Card.vue?vue&type=script&lang=ts&\"\nexport * from \"./Card.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=0fb13b32&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fb13b32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.hasFile)?_c('div',[_c('p',{staticClass:\"h2 text-center\"},[_vm._v(\"لا يوجد مرفقات\")])]):(!_vm.file)?_c('div',[_c('button',{staticClass:\"btn btn-lg btn-primary float-right\",class:{ disabled: this.isGettingFile },on:{\"click\":_vm.downloadFile}},[_vm._v(\" \"+_vm._s(_vm.downloadFileButton)+\" \")])]):_c('div',[_c('iframe',{attrs:{\"src\":_vm.renderFileB,\"frameborder\":\"0\",\"width\":\"100%\",\"height\":\"900px\",\"allowfullscreen\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default Vue.extend({\r\n  watch: {\r\n    $route() {\r\n      this.unrenderFile()\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters('contracts', ['record', 'isGettingFile', 'file']),\r\n    downloadFileButton() {\r\n      return this.isGettingFile ? 'ال جاري التحميل...' : 'تحميل المرفقات'\r\n    },\r\n    id() {\r\n      return this.$route.params.id\r\n    },\r\n    hasFile() {\r\n      return this.record?.ContractAttachments?.length\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      renderFileB: null,\r\n    }\r\n  },\r\n  methods: {\r\n    renderFile() {\r\n      this.renderFileB = URL.createObjectURL(this.file)\r\n    },\r\n    unrenderFile() {\r\n      URL.revokeObjectURL(this.file)\r\n      URL.revokeObjectURL(this.renderFileB)\r\n      this.$store.commit('contracts/file', null)\r\n    },\r\n    async downloadFile() {\r\n      if (!this.record?.ContractAttachments.length) {\r\n        return alert('لا يوجد')\r\n      }\r\n      await this.$store.dispatch('contracts/downloadFile', this.record?.ContractAttachments[0].id)\r\n      this.renderFile()\r\n    },\r\n  },\r\n  beforeMount() {\r\n    this.unrenderFile()\r\n  },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttatchmentViewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttatchmentViewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AttatchmentViewer.vue?vue&type=template&id=90384786&\"\nimport script from \"./AttatchmentViewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./AttatchmentViewer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"text-center mb-5\"},[_vm._v(\"الفواتير\")]),_c('table',{staticClass:\"table table-striped\"},[_c('table-head',{attrs:{\"titles\":_vm.titles}}),_c('table-body')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',{attrs:{\"scope\":\"row\"}},[_vm._l((_vm.titles),function(title,i){return _c('th',{key:i},[_vm._v(\" \"+_vm._s(title)+\" \")])}),_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n  props: {\r\n    titles: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHead.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHead.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TableHead.vue?vue&type=template&id=6fd6eab6&\"\nimport script from \"./TableHead.vue?vue&type=script&lang=ts&\"\nexport * from \"./TableHead.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',_vm._l((_vm.records),function(record,idx){return _c('tr',{key:record.id},[_vm._l((_vm.getFormattedRecord(idx)),function(item,index){return _c('td',{key:index},[_vm._v(_vm._s(item))])}),_c('td',[(_vm.receiptHasAttatchment(record))?_c('button',{staticClass:\"btn btn-sm btn-outline-primary mx-1\",on:{\"click\":function($event){return _vm.openDisplay(record)}}},[_vm._v(\" عرض \")]):_vm._e(),(_vm.permissions.canEdit)?_c('router-link',{attrs:{\"to\":(\"/receipts/\" + (record.ContractId) + \"/edit/\" + (record.id))}},[_c('button',{staticClass:\"btn btn-sm btn-outline-warning mx-1\"},[_vm._v(\"تعديل\")])]):_vm._e(),(_vm.permissions.canDelete)?_c('button',{staticClass:\"btn btn-sm btn-outline-danger mx-1\",on:{\"click\":function($event){return _vm.handleDelete(record.id)}}},[_vm._v(\" حذف \")]):_vm._e()],1),_vm._t(\"default\")],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import moment from 'moment'\r\nimport nF from 'number-formatter'\r\nexport default class Receipt {\r\n  id\r\n  createdAt\r\n  updatedAt\r\n  enterDate\r\n  payment\r\n  monthlySerial\r\n  percentage\r\n  static Attributes = {\r\n    percentage: {\r\n      titleAr: 'النسبة',\r\n      titleEn: 'percentage',\r\n      dbFieldName: 'percentage',\r\n      render(val) {\r\n        return !val ? '' : nF('0.#%', val * 100)\r\n      },\r\n    },\r\n    id: {\r\n      titleAr: 'id',\r\n      titleEn: 'id',\r\n      dbFieldName: 'id',\r\n      render(val) {\r\n        return !val ? '' : val\r\n      },\r\n    },\r\n    createdAt: {\r\n      titleAr: 'createdAt',\r\n      titleEn: 'createdAt',\r\n      dbFieldName: 'createdAt',\r\n      render(val) {\r\n        return !val ? '' : moment(val).format('yyyy-MM-DD')\r\n      },\r\n    },\r\n    updatedAt: {\r\n      titleAr: 'اخر تحديث',\r\n      titleEn: 'updatedAt',\r\n      dbFieldName: 'updatedAt',\r\n      render(val) {\r\n        return !val ? '' : moment(val).format('yyyy-MM-DD')\r\n      },\r\n    },\r\n    enterDate: {\r\n      titleAr: 'تاريخ التسجيل',\r\n      titleEn: 'enterDate',\r\n      dbFieldName: 'enterDate',\r\n      render(val) {\r\n        return !val ? '' : moment(val).format('yyyy-MM-DD')\r\n      },\r\n    },\r\n    payment: {\r\n      titleAr: 'الدفعة',\r\n      titleEn: 'payment',\r\n      dbFieldName: 'payment',\r\n      render(val) {\r\n        return !val ? '' : nF('#,###.###', val)\r\n      },\r\n    },\r\n    monthlySerial: {\r\n      titleAr: 'التسلسل',\r\n      titleEn: 'monthlySerial',\r\n      dbFieldName: 'monthlySerial',\r\n      render(val) {\r\n        return !val ? '' : val\r\n      },\r\n    },\r\n  }\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport { mapGetters } from 'vuex'\r\nimport ReceiptModel from '../../model/Receipt'\r\nexport default Vue.extend({\r\n  inject: ['openPopup', 'closePopup', 'openDisplay', 'selectId'],\r\n  computed: {\r\n    ...mapGetters('receipts', ['records', 'isGettingData', 'headers']),\r\n    ...mapGetters('users', ['permissions']),\r\n  },\r\n  methods: {\r\n    receiptHasAttatchment(receipt) {\r\n      return receipt.ReceiptAttachments?.length\r\n    },\r\n    getFormattedRecord(index) {\r\n      return this.headers.map(want => {\r\n        return ReceiptModel.Attributes[want].render(this.records[index][want])\r\n      })\r\n    },\r\n    handleDelete(id) {\r\n      this.selectId(id)\r\n      this.openPopup()\r\n    },\r\n    handleView(id) {\r\n      this.$router.push(`/receipts/view/${id}`)\r\n    },\r\n  },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableBody.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableBody.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TableBody.vue?vue&type=template&id=028278e5&scoped=true&\"\nimport script from \"./TableBody.vue?vue&type=script&lang=ts&\"\nexport * from \"./TableBody.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TableBody.vue?vue&type=style&index=0&id=028278e5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"028278e5\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nimport TableHead from './TableHead.vue'\r\nimport TableBody from './TableBody.vue'\r\nimport ReceiptModal from '../../model/Receipt'\r\nimport { mapGetters } from 'vuex'\r\nexport default Vue.extend({\r\n  computed: {\r\n    ...mapGetters('receipts', ['isGettingData', 'records', 'headers']),\r\n    titles() {\r\n      return [...this.headers.map(want => ReceiptModal.Attributes[want].titleAr), 'ادوات']\r\n    },\r\n  },\r\n  components: {\r\n    TableHead,\r\n    TableBody,\r\n  },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=c113cc10&\"\nimport script from \"./Table.vue?vue&type=script&lang=ts&\"\nexport * from \"./Table.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Table.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('app-form'),_c('app-image'),_c('button',{staticClass:\"btn btn-primary btn-lg mt-5\",attrs:{\"disabled\":_vm.isCreatingData},on:{\"click\":_vm.submitForm}},[_vm._v(\" \"+_vm._s(_vm.submitButtonText)+\" \")])],1),(_vm.hasError)?_c('div',[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"فشل الاضافة\")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 col-lg-12 d-flex flex-column\"},[_c('form',{staticClass:\"form-group\",on:{\"input\":_vm.emitFormInput}},[_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control rtl\",attrs:{\"type\":\"text\",\"name\":\"contract-number\",\"id\":\"contract-number\",\"disabled\":\"\"},domProps:{\"value\":_vm.record.contractNumber}}),_c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"contract-number\"}},[_vm._v(\"رقم العقد\")])]),_c('div',{staticClass:\"input-group mt-3\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serial),expression:\"serial\"}],staticClass:\"form-control rtl\",attrs:{\"type\":\"number\",\"name\":\"serial\",\"id\":\"serial\"},domProps:{\"value\":(_vm.serial)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.serial=$event.target.value}}}),_c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"serial\"}},[_vm._v(\"مسلسل\")])]),_c('div',{staticClass:\"input-group mt-3\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.payment),expression:\"payment\"}],staticClass:\"form-control rtl\",attrs:{\"type\":\"number\",\"name\":\"amount\",\"id\":\"amount\"},domProps:{\"value\":(_vm.payment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.payment=$event.target.value}}}),_c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"amount\"}},[_vm._v(\"القيمة المالية\")])]),_c('div',{staticClass:\"input-group mt-3\"},[_vm._m(2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.date),expression:\"date\"}],staticClass:\"form-control rtl\",attrs:{\"type\":\"date\",\"name\":\"date\",\"id\":\"date\"},domProps:{\"value\":(_vm.date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.date=$event.target.value}}}),_c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"date\"}},[_vm._v(\"تاريخ التسجيل\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"serial\"}},[_c('i',{staticClass:\"fas fa-sort-numeric-up\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"amount\"}},[_c('i',{staticClass:\"fas fa-dollar-sign\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"input-group-text\",attrs:{\"for\":\"date\"}},[_c('i',{staticClass:\"fas fa-calendar-week\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"col-12 col-lg-12 d-flex flex-column\">\r\n    <form class=\"form-group\" @input=\"emitFormInput\">\r\n      <div class=\"input-group\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"contract-number\"\r\n          id=\"contract-number\"\r\n          class=\"form-control rtl\"\r\n          disabled\r\n          :value=\"record.contractNumber\"\r\n        />\r\n        <label for=\"contract-number\" class=\"input-group-text\">رقم العقد</label>\r\n      </div>\r\n      <div class=\"input-group mt-3\">\r\n        <label for=\"serial\" class=\"input-group-text\"><i class=\"fas fa-sort-numeric-up\"></i></label>\r\n        <input type=\"number\" name=\"serial\" id=\"serial\" class=\"form-control rtl\" v-model=\"serial\" />\r\n        <label for=\"serial\" class=\"input-group-text\">مسلسل</label>\r\n      </div>\r\n      <div class=\"input-group mt-3\">\r\n        <label for=\"amount\" class=\"input-group-text\"><i class=\"fas fa-dollar-sign\"></i></label>\r\n        <input type=\"number\" name=\"amount\" id=\"amount\" class=\"form-control rtl\" v-model=\"payment\" />\r\n        <label for=\"amount\" class=\"input-group-text\">القيمة المالية</label>\r\n      </div>\r\n      <div class=\"input-group mt-3\">\r\n        <label for=\"date\" class=\"input-group-text\"><i class=\"fas fa-calendar-week\"></i></label>\r\n        <input type=\"date\" name=\"date\" id=\"date\" class=\"form-control rtl\" v-model=\"date\" />\r\n        <label for=\"date\" class=\"input-group-text\">تاريخ التسجيل</label>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n// import axios from \"../axios/axios-server\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters('contracts', ['record']),\r\n  },\r\n  inject: ['captureInput'],\r\n  data() {\r\n    return {\r\n      serial: undefined,\r\n      payment: undefined,\r\n      date: undefined,\r\n      fileName: '',\r\n      fileContent: '',\r\n      selectedFile: '',\r\n    }\r\n  },\r\n  methods: {\r\n    emitFormInput() {\r\n      const formData = {\r\n        monthlySerial: this.serial,\r\n        payment: this.payment,\r\n        enterDate: this.date,\r\n      }\r\n      this.captureInput(formData);\r\n      // this.$emit('form-input', formData)\r\n    },\r\n    // handleFileChange(event) {\r\n    //   const file = event.target.files[0];\r\n    //   this.selectedFile = file.name;\r\n    //   const uploadedFiles = new FormData();\r\n    //   uploadedFiles.append(\"files\", file);\r\n    //   axios\r\n    //     .post(\"/fileupload\", uploadedFiles, {\r\n    //       headers: {\r\n    //         \"Content-Type\": \"multipart/form-data\",\r\n    //       },\r\n    //     })\r\n    //     .then((res) => {\r\n    //       alert(\"success\");\r\n    //       console.log(res);\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       //log error\r\n    //       console.log(err);\r\n    //     });\r\n    //   this.viewDocument(file);\r\n    // },\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiptsFormGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiptsFormGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReceiptsFormGroup.vue?vue&type=template&id=3c0178f1&\"\nimport script from \"./ReceiptsFormGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./ReceiptsFormGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-3\"},[_c('div',{staticClass:\"col-12 mt-5 px-5\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header text-center\"},[_vm._v(\"المرفقات\")]),_c('div',{staticClass:\"card-body\"},[_c('iframe',{attrs:{\"src\":_vm.fileContent,\"width\":\"100%\",\"height\":\"250rem\"}})])])]),_c('div',{staticClass:\"form-file mt-3\"},[_c('input',{staticClass:\"form-file-input\",attrs:{\"type\":\"file\",\"name\":\"document\",\"id\":\"file\",\"accept\":\"application/pdf, image/png, image/jpg, image/jpeg\"},on:{\"change\":_vm.handleSelectFile}}),_c('label',{staticClass:\"form-file-label\",attrs:{\"for\":\"file\"}},[_c('span',{staticClass:\"form-file-text\"},[_vm._v(_vm._s(_vm.displayFileName))]),_c('span',{staticClass:\"form-file-button\"},[_vm._v(\"رفع ملف\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n  data() {\r\n    return {\r\n      fileName: '',\r\n      fileContent: '',\r\n    }\r\n  },\r\n  computed: {\r\n    displayFileName() {\r\n      return this.fileName ? this.fileName : 'Choose File'\r\n    },\r\n  },\r\n  inject: ['captureInput'],\r\n  methods: {\r\n    handleSelectFile(event) {\r\n      const file = event.target.files[0]\r\n      this.captureInput({ documentFile: file })\r\n      this.fileName = file.name\r\n      this.fileContent = URL.createObjectURL(file)\r\n      // this.$emit('file-selected', file)\r\n    },\r\n  },\r\n})\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiptsFormImage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiptsFormImage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ReceiptsFormImage.vue?vue&type=template&id=30407e17&\"\nimport script from \"./ReceiptsFormImage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ReceiptsFormImage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <app-form></app-form>\r\n      <app-image></app-image>\r\n      <button @click=\"submitForm\" :disabled=\"isCreatingData\" class=\"btn btn-primary btn-lg mt-5\">\r\n        {{ submitButtonText }}\r\n      </button>\r\n    </div>\r\n    <div v-if=\"hasError\">\r\n      <h2 class=\"text-center\">فشل الاضافة</h2>\r\n    </div>\r\n  </div>\r\n  <!-- to do\r\n  when finished\r\n  load modal\r\n  await finish upload\r\n  if success\r\n  button to return\r\n  else\r\n  button to retry\r\n  \r\n   -->\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport AppForm from './ReceiptsFormGroup'\r\nimport AppImage from './ReceiptsFormImage'\r\nexport default {\r\n  computed: {\r\n    id() {\r\n      return this.$route.params.id\r\n    },\r\n    ...mapGetters('contracts', ['record']),\r\n    ...mapGetters('receipts', ['isCreatingData']),\r\n    submitButtonText() {\r\n      return this.isCreatingData ? 'جاري الحفظ' : 'حفظ'\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {},\r\n      hasError: false,\r\n    }\r\n  },\r\n  provide() {\r\n    return {\r\n      captureInput: input => {\r\n        this.formData = Object.assign(this.formData, input)\r\n      },\r\n    }\r\n  },\r\n  inject: ['setReceiptAddMode', 'initPage'],\r\n  methods: {\r\n    async submitForm() {\r\n      this.formData.ContractId = this.id\r\n      const formData = new FormData()\r\n      // add validation to child elements and send ok status to parents\r\n      for (const key in this.formData) {\r\n        formData.append(key, this.formData[key])\r\n      }\r\n\r\n      const response = await this.$store.dispatch('receipts/createRecord', formData)\r\n      if (response === 'error') {\r\n        this.hasError = true\r\n      } else {\r\n        this.hasError = false\r\n        this.setReceiptAddMode(false)\r\n        this.initPage()\r\n      }\r\n    },\r\n  },\r\n  components: {\r\n    AppImage,\r\n    AppForm,\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiptsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReceiptsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReceiptsForm.vue?vue&type=template&id=2c3b0af2&\"\nimport script from \"./ReceiptsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ReceiptsForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <div class=\"card p-4 shadow m-4\">\r\n      <ContractCard />\r\n    </div>\r\n    <transition v-if=\"addReceiptVisible && record\">\r\n      <div class=\"card p-4 shadow m-4\">\r\n        <ReceiptAddForm />\r\n      </div>\r\n    </transition>\r\n    <div class=\"card p-4 shadow m-4\">\r\n      <FileAttatchment />\r\n    </div>\r\n    <div class=\"card p-4 shadow m-4\" v-if=\"records && record\">\r\n      <receipt-table />\r\n    </div>\r\n    <transition>\r\n      <ReceiptModal v-if=\"popupIsOn\" @request-close=\"closePopup\">\r\n        <template #body>\r\n          <div class=\"d-flex justify-content-evenly mt-5\">\r\n            <button class=\"btn btn-lg btn-danger my-5\" @click=\"deleteItem\">نعم</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary my-5\" @click=\"closePopup\">لا</button>\r\n          </div>\r\n        </template>\r\n      </ReceiptModal>\r\n    </transition>\r\n    <transition>\r\n      <receipt-modal v-if=\"display\" @request-close=\"closeDisplay\" :msg=\"selectedReceipt\">\r\n        <template #body>\r\n          <div v-if=\"isGettingFile\">\r\n            <h2>Loading File...</h2>\r\n          </div>\r\n          <iframe\r\n            v-else-if=\"receiptFile\"\r\n            class=\"subframe\"\r\n            data-class=\"subframe\"\r\n            data-slug-hash=\"GCyhb\"\r\n            :src=\"receiptFile\"\r\n          />\r\n          <div v-else>\r\n            <h2>Error</h2>\r\n          </div>\r\n        </template>\r\n      </receipt-modal>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport ReceiptModal from '../components/Contracts/Modal'\r\nimport ContractCard from '../components/Contracts/Card'\r\nimport FileAttatchment from '../components/Contracts/AttatchmentViewer'\r\nimport ReceiptTable from '../components/Receipts/Table'\r\nimport ReceiptAddForm from '../components/Receipts/ReceiptsForm'\r\nexport default {\r\n  data() {\r\n    return {\r\n      receiptFile: null,\r\n      display: false,\r\n      popupIsOn: false,\r\n      receiptDeleteId: 0,\r\n      selectedID: null,\r\n      addReceiptVisible: false,\r\n    }\r\n  },\r\n  provide() {\r\n    return {\r\n      openPopup: this.openPopup,\r\n      closePopup: this.closePopup,\r\n      openDisplay: this.openDisplay,\r\n      closeDisplay: this.closeDisplay,\r\n      selectId: this.selectId,\r\n      addReceiptVisible: false,\r\n      setReceiptAddMode: this.setReceiptAddMode,\r\n      initPage: this.initPage,\r\n    }\r\n  },\r\n  computed: {\r\n    selectedReceipt() {\r\n      let receipt = this.records.find(rec => rec.id == this.selectedID)\r\n      return receipt.monthlySerial + ' فاتورة رقم'\r\n    },\r\n\r\n    id() {\r\n      return this.$route.params.id\r\n    },\r\n    ...mapGetters('contracts', ['record', 'file']),\r\n    ...mapGetters('receipts', ['records', 'isGettingFile']),\r\n    ...mapGetters('receipts', { subFile: 'file' }),\r\n  },\r\n  methods: {\r\n    setReceiptAddMode() {\r\n      this.addReceiptVisible = !this.addReceiptVisible\r\n    },\r\n    selectId(id) {\r\n      this.selectedID = id\r\n    },\r\n    cleanURL() {\r\n      if (this.receiptFile) {\r\n        this.receiptFile = URL.revokeObjectURL(this.subFile)\r\n      }\r\n    },\r\n    openDisplay(receipt) {\r\n      this.selectId(receipt.id)\r\n      const fileId = receipt.ReceiptAttachments[0].id\r\n      this.display = true\r\n      this.downloadReceiptFile(fileId)\r\n    },\r\n    closeDisplay() {\r\n      this.cleanURL()\r\n      this.selectId(null)\r\n      this.display = false\r\n    },\r\n    closePopup() {\r\n      this.popupIsOn = false\r\n    },\r\n    openPopup() {\r\n      this.popupIsOn = true\r\n    },\r\n    deleteItem() {\r\n      this.$store.dispatch('receipts/deleteRecord', this.selectedID)\r\n      this.closePopup()\r\n    },\r\n    initPage() {\r\n      const id = this.$route.params.id\r\n      this.$store.dispatch('contracts/downloadRecord', id)\r\n      this.$store.dispatch('receipts/downloadRecords', id)\r\n      this.resetData()\r\n    },\r\n    resetData() {\r\n      this.receiptFile = null\r\n      this.display = false\r\n      this.popupIsOn = false\r\n      this.receiptDeleteId = 0\r\n      this.selectedID = null\r\n      this.addReceiptVisible = false\r\n    },\r\n    async downloadReceiptFile(id) {\r\n      await this.$store.dispatch('receipts/downloadFile', id)\r\n      this.receiptFile = URL.createObjectURL(this.subFile)\r\n    },\r\n  },\r\n  created() {\r\n    this.initPage()\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.initPage()\r\n    },\r\n  },\r\n  components: {\r\n    ReceiptModal,\r\n    ContractCard,\r\n    FileAttatchment,\r\n    ReceiptTable,\r\n    ReceiptAddForm,\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contracts-view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contracts-view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./contracts-view.vue?vue&type=template&id=e9b7a552&scoped=true&\"\nimport script from \"./contracts-view.vue?vue&type=script&lang=js&\"\nexport * from \"./contracts-view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9b7a552\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=0fb13b32&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=0fb13b32&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableBody.vue?vue&type=style&index=0&id=028278e5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableBody.vue?vue&type=style&index=0&id=028278e5&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}